$(function(){var o=$(".J_username"),n=$(".J_password"),i=$(".J_login_btn"),e=function(o){var n=/^1[3|4|5|8]\d{9}$/,i=/^[a-z0-9_-]{6,18}$/,e=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,r="";return{getMsg:function(){return r},phone:function(o){return n.test(o)?!0:(r="手机格式输入错误，请输入11位手机号",!1)},email:function(o){return e.test(o)?!0:(r="邮箱输入格式有误，请输入正确的邮箱",!1)},psw:function(o){return i.test(o)?!0:(r="密码验证不通过，请输入6到18位的字母数字",!1)}}};i.on("click",function(i){var r=o.val(),t=n.val(),a=($(".J_login_form"),e());return a.email(r)&&a.psw(t)?$.ajax({type:"POST",url:window.location.origin+"/uoffice/login",data:"username="+r+"&password="+t,success:function(o){if("200"===o.code){var n=document.referrer;(n==window.location.origin+"/uoffice/view/screen/login/login.jsp"||n==window.location.origin+"/uoffice/logout"||n==window.location.origin+"/uoffice/showPersonalInfo"||n==window.location.origin+"/uoffice/view/screen/register/register.jsp")&&(n=window.location.origin+"/uoffice/public"),window.location.href=n}else alert(o.message)}}):alert(a.getMsg()),!1})});
